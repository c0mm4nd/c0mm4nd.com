<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"c0mm4nd.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.17.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"style":null,"show_result":false},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="解决问题 以太坊(-like)平台异常交易">
<meta property="og:type" content="article">
<meta property="og:title" content="以太坊链上分析">
<meta property="og:url" content="https://c0mm4nd.com/ethereum-onchain-analysis/index.html">
<meta property="og:site_name" content="Talkless">
<meta property="og:description" content="解决问题 以太坊(-like)平台异常交易">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-03-16-06-57.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-03-17-53-58.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-03-17-53-46.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-03-16-44-05.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-03-16-10-15.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-03-16-56-03.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-10-13-00-19-55.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-10-13-00-26-58.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-10-17-18-34-55.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-10-13-15-11-06.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-10-13-19-16-53.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-10-13-19-21-58.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-10-13-14-57-47.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-10-13-14-58-01.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-10-30-20-38-54.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-14-18-11-18.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-14-18-11-56.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-20-22.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-23-45.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-24-03.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-14-29-27.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-34-56.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-40-08.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-14-15-52.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-41-15.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-41-40.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-41-49.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-44-32.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-18-11-44-48.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2023-01-19-16-00-51.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2023-01-19-16-12-25.png">
<meta property="og:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2023-01-19-16-06-54.png">
<meta property="article:published_time" content="2022-10-12T14:53:52.000Z">
<meta property="article:modified_time" content="2023-06-07T23:25:22.000Z">
<meta property="article:author" content="Command M">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://c0mm4nd.com/ethereum-onchain-analysis/2022-11-03-16-06-57.png">


<link rel="canonical" href="https://c0mm4nd.com/ethereum-onchain-analysis/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://c0mm4nd.com/ethereum-onchain-analysis/","path":"/ethereum-onchain-analysis/","title":"以太坊链上分析"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>以太坊链上分析 | Talkless</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Talkless</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="https://github.com/c0mm4nd" rel="section" target="_blank"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">76</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">73</span></a></li><li class="menu-item menu-item-latex-ocr"><a href="https://huggingface.co/spaces/c0mm4nd/LaTeX-OCR" rel="section" target="_blank"><i class="fa fa-eye fa-fw"></i>Latex-OCR</a></li><li class="menu-item menu-item-mathml-to-latex"><a href="https://mathml-to-latex.c0mm4nd.com/" rel="section" target="_blank"><i class="fa fa-language fa-fw"></i>MathML-to-Latex</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98"><span class="nav-number">1.</span> <span class="nav-text"> 解决问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A5%E5%A4%AA%E5%9D%8A"><span class="nav-number">1.1.</span> <span class="nav-text"> 以太坊</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%93%BE%E4%B8%8A"><span class="nav-number">1.1.1.</span> <span class="nav-text"> 链上</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E4%BA%A4%E6%98%93"><span class="nav-number">1.1.1.1.</span> <span class="nav-text"> 普通交易</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%A3%E5%B8%81%E4%BA%A4%E6%98%93"><span class="nav-number">1.1.1.2.</span> <span class="nav-text"> 代币交易</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#defi"><span class="nav-number">1.1.1.3.</span> <span class="nav-text"> DeFi</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#nft"><span class="nav-number">1.1.1.4.</span> <span class="nav-text"> NFT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#dao"><span class="nav-number">1.1.1.5.</span> <span class="nav-text"> DAO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#pow-pos"><span class="nav-number">1.1.1.6.</span> <span class="nav-text"> PoW -&gt; PoS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%93%BE%E4%B8%8B"><span class="nav-number">1.1.2.</span> <span class="nav-text"> 链下</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#twitter"><span class="nav-number">1.1.2.1.</span> <span class="nav-text"> Twitter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#discord"><span class="nav-number">1.1.2.2.</span> <span class="nav-text"> Discord</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#reddit-bitcointalk"><span class="nav-number">1.1.2.3.</span> <span class="nav-text"> Reddit, bitcointalk …</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE"><span class="nav-number">1.2.</span> <span class="nav-text"> 标签</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%BC%E8%BF%B0"><span class="nav-number">2.</span> <span class="nav-text"> 综述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%81%9A%E7%B1%BB"><span class="nav-number">2.1.</span> <span class="nav-text"> 聚类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#etherclust"><span class="nav-number">2.1.1.</span> <span class="nav-text"> etherclust</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BE%E5%8C%BA%E6%A3%80%E6%B5%8B"><span class="nav-number">2.1.2.</span> <span class="nav-text"> 社区检测</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dl"><span class="nav-number">2.2.</span> <span class="nav-text"> DL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#pd-secr"><span class="nav-number">2.2.1.</span> <span class="nav-text"> PD-SECR</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8Epd-secr%E7%9A%84%E4%BB%A5%E5%A4%AA%E5%9D%8A%E5%BA%9E%E6%B0%8F%E9%AA%97%E5%B1%80%E6%A3%80%E6%B5%8B"><span class="nav-number">2.2.1.1.</span> <span class="nav-text"> 基于PD-SECR的以太坊庞氏骗局检测</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9"><span class="nav-number">2.2.1.1.1.</span> <span class="nav-text"> 特征选择</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#opcode-features"><span class="nav-number">2.2.1.1.1.1.</span> <span class="nav-text"> opcode features</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#account-features"><span class="nav-number">2.2.1.1.1.2.</span> <span class="nav-text"> account features</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gnn"><span class="nav-number">2.3.</span> <span class="nav-text"> GNN</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#eh-gcn"><span class="nav-number">2.3.1.</span> <span class="nav-text"> EH-GCN</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90"><span class="nav-number">2.3.1.1.</span> <span class="nav-text"> 数据来源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1"><span class="nav-number">2.3.1.2.</span> <span class="nav-text"> 方法设计</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8A%BD%E6%A0%B7%E7%AD%96%E7%95%A5"><span class="nav-number">2.3.1.2.1.</span> <span class="nav-text"> 抽样策略</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mix-grained-aggregators-%E6%B7%B7%E5%90%88%E7%B2%92%E5%BA%A6%E8%81%9A%E5%90%88%E5%99%A8"><span class="nav-number">2.3.1.3.</span> <span class="nav-text"> Mix-Grained Aggregators 混合粒度聚合器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E9%98%B6%E5%92%8C%E9%AB%98%E9%98%B6%E5%B5%8C%E5%85%A5%E7%9A%84%E7%BB%84%E5%90%88"><span class="nav-number">2.3.1.4.</span> <span class="nav-text"> 一阶和高阶嵌入的组合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#eh-gcn-2"><span class="nav-number">2.3.1.5.</span> <span class="nav-text"> EH-GCN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C"><span class="nav-number">2.3.1.6.</span> <span class="nav-text"> 实验结果</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fa-gnn"><span class="nav-number">2.3.2.</span> <span class="nav-text"> FA-GNN</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%B6%E6%9E%84"><span class="nav-number">2.3.2.1.</span> <span class="nav-text"> 架构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#neighbor-filtering"><span class="nav-number">2.3.2.2.</span> <span class="nav-text"> Neighbor Filtering</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%90%E6%88%B7%E5%88%86%E7%B1%BB%E7%BB%93%E6%9E%9C-rq1"><span class="nav-number">2.3.2.3.</span> <span class="nav-text"> 帐户分类结果 (RQ1)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%8F%E6%84%9F%E5%BA%A6%E5%88%86%E6%9E%90-%CE%BB-k-rq2"><span class="nav-number">2.3.2.4.</span> <span class="nav-text"> 敏感度分析 λ &amp; k (RQ2)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%87%E6%BB%A4%E5%81%8F%E5%A5%BD%E7%9A%84%E8%AF%84%E4%BC%B0-rq3"><span class="nav-number">2.3.2.5.</span> <span class="nav-text"> 过滤偏好的评估 (RQ3)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%88%E5%B9%B6%E7%AD%96%E7%95%A5%E7%9A%84%E8%AF%84%E4%BC%B0-rq4"><span class="nav-number">2.3.2.6.</span> <span class="nav-text"> 合并策略的评估 (RQ4)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ablation-study-%E6%B6%88%E8%9E%8D%E7%A0%94%E7%A9%B6-rq5"><span class="nav-number">2.3.2.7.</span> <span class="nav-text"> Ablation Study 消融研究 (RQ5)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#heterogeneous"><span class="nav-number">2.3.3.</span> <span class="nav-text"> Heterogeneous</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%87%E6%9C%AC"><span class="nav-number">3.</span> <span class="nav-text"> 文本</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%99%BD%E7%9A%AE%E4%B9%A6gnn"><span class="nav-number">3.1.</span> <span class="nav-text"> 白皮书+GNN</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">4.</span> <span class="nav-text"> ?</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="nav-number">4.1.</span> <span class="nav-text"> 数据流</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#defi-2"><span class="nav-number">5.</span> <span class="nav-text"> DeFi</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E7%89%B9%E5%BE%81%E8%9E%8D%E5%90%88%E5%92%8C%E6%AD%A3%E6%9C%AA%E6%A0%87%E8%AE%B0%E5%AD%A6%E4%B9%A0%E7%9A%84%E4%BB%A5%E5%A4%AA%E7%BD%91%E5%A5%97%E5%88%A9%E6%A3%80%E6%B5%8B"><span class="nav-number">5.1.</span> <span class="nav-text"> 基于特征融合和正未标记学习的以太网套利检测</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A1%E9%87%8F-defi-%E4%B8%AD%E7%9A%84%E9%9D%9E%E6%B3%95%E6%B4%BB%E5%8A%A8%E4%BB%A5%E5%A4%AA%E5%9D%8A%E6%A1%88%E4%BE%8B"><span class="nav-number">5.2.</span> <span class="nav-text"> 衡量 DeFi 中的非法活动：以太坊案例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E8%AE%BA"><span class="nav-number">5.2.1.</span> <span class="nav-text"> 方法论</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%81%A5%E5%A3%AE%E6%80%A7-%E6%89%A9%E5%B1%95%E6%81%B6%E6%84%8F%E9%9B%86"><span class="nav-number">5.2.2.</span> <span class="nav-text"> 健壮性: 扩展恶意集</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Command M</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">73</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">76</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/c0mm4nd" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;c0mm4nd" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:maoxs2#gmail.com" title="E-Mail → mailto:maoxs2#gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/k0mm4nd" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;k0mm4nd" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
    <div class="sidebar-inner sidebar-blogroll">
      <div class="links-of-blogroll animated">
        <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
          Links
        </div>
        <ul class="links-of-blogroll-list">
            <li class="links-of-blogroll-item">
              <a href="https://ngchain.org/" title="https:&#x2F;&#x2F;ngchain.org" rel="noopener" target="_blank">ngchain</a>
            </li>
        </ul>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://c0mm4nd.com/ethereum-onchain-analysis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Command M">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Talkless">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="以太坊链上分析 | Talkless">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          以太坊链上分析
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2022-10-12 22:53:52" itemprop="dateCreated datePublished" datetime="2022-10-12T22:53:52+08:00">2022-10-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-06-08 07:25:22" itemprop="dateModified" datetime="2023-06-08T07:25:22+08:00">2023-06-08</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="解决问题"><a class="markdownIt-Anchor" href="#解决问题"></a> 解决问题</h1>
<p>以太坊(-like)平台异常交易</p>
<span id="more"></span>
<p>异常：</p>
<ul>
<li>诈骗</li>
<li>跑路</li>
<li>勒索</li>
<li>黑客攻击</li>
<li>洗钱</li>
<li>恐怖主义</li>
<li>反动</li>
<li>…</li>
</ul>
<p>希望做到：</p>
<ul>
<li>识别、检测</li>
<li>监控</li>
<li>预防</li>
</ul>
<h2 id="以太坊"><a class="markdownIt-Anchor" href="#以太坊"></a> 以太坊</h2>
<p>简单说明区块链生态相关应用以及其中图模型</p>
<h3 id="链上"><a class="markdownIt-Anchor" href="#链上"></a> 链上</h3>
<h4 id="普通交易"><a class="markdownIt-Anchor" href="#普通交易"></a> 普通交易</h4>
<p>目前大部分GNN做的分析部分，基于etherscan的<a target="_blank" rel="noopener" href="https://etherscan.io/labelcloud">label</a></p>
<p>关系：</p>
<ul>
<li>地址 -[交易]- 地址</li>
</ul>
<h4 id="代币交易"><a class="markdownIt-Anchor" href="#代币交易"></a> 代币交易</h4>
<p>代币主要指代符合ERC20标准的合约中定义的可交易的资产，包含了普通代币以及稳定币（USDT、USDC）</p>
<p>图同普通交易</p>
<h4 id="defi"><a class="markdownIt-Anchor" href="#defi"></a> DeFi</h4>
<p>DeFi=Decentralized Finance去中心化金融。主要以去中心化交易所为主，可以实现借贷、杠杆。<br />
所有交易对之间交易需要架设流动池作为基础，所有人都可参与流动池建设，可获得fee。<br />
存在项目方挤兑社区流动池跑路现象rugpull</p>
<p>关系：</p>
<ul>
<li>交易者视角</li>
<li>构建者视角</li>
</ul>
<h4 id="nft"><a class="markdownIt-Anchor" href="#nft"></a> NFT</h4>
<p>NFT=Non-Fungible Token，符合ERC721标准，是一种特殊的代币，每个代币都是独一无二的。一般与图片等媒体元素绑定。<br />
新安全热点：杰伦NFT被偷</p>
<p>关系：</p>
<ul>
<li>NFT的mint(“开采”)</li>
<li>私下转移</li>
<li>OpenSea交易平台上授权交易</li>
</ul>
<h4 id="dao"><a class="markdownIt-Anchor" href="#dao"></a> DAO</h4>
<p>DAO=decentralized autonomous organization去中心化自治组织<br />
目前基本借用链外工具，在后续说明</p>
<h4 id="pow-pos"><a class="markdownIt-Anchor" href="#pow-pos"></a> PoW -&gt; PoS</h4>
<p>上个月以太坊完成The Merge升级。之前以太坊产出都源自于“挖矿”（以太坊供应量是无限的，没有衰减</p>
<p>关系（“挖卖提”）：</p>
<ul>
<li>矿池 - 矿工 [- 交易所 …]</li>
</ul>
<p>现状：以太坊现在已经经过The Merge更新转为了一个基于PoS共识的区块链。</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/rwIkZuRPZtoOKPisCOobEQ">https://mp.weixin.qq.com/s/rwIkZuRPZtoOKPisCOobEQ</a></p>
<p>质押带来的新生态</p>
<p>关系：</p>
<ul>
<li>质押提供者 - 质押账户 - 收益接受者</li>
<li>质押提供者 - 质押池 - 收益接收者</li>
<li>质押提供者 - 质押DApp - 收益接收者 （多对多）</li>
</ul>
<h3 id="链下"><a class="markdownIt-Anchor" href="#链下"></a> 链下</h3>
<h4 id="twitter"><a class="markdownIt-Anchor" href="#twitter"></a> Twitter</h4>
<p>基本上功能=微博</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://twitterscan.com/">twitterscan</a></li>
</ul>
<p>关系：</p>
<ul>
<li>#topic</li>
<li>follow</li>
<li>star（点赞）、retweet（转发）</li>
</ul>
<h4 id="discord"><a class="markdownIt-Anchor" href="#discord"></a> Discord</h4>
<p>流行的社区建设平台（以前也有用Slack），比较松散的群聊</p>
<p><a target="_blank" rel="noopener" href="https://discord.com/">https://discord.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://daohaus.club/">https://daohaus.club/</a></p>
<p>在实际处理proposal时会有较正规审批流程（基于合约）</p>
<p>关系：</p>
<ul>
<li>channel</li>
<li>@Mention</li>
<li>上下文</li>
<li>点击emoji</li>
<li>链上request、offering、review…</li>
</ul>
<h4 id="reddit-bitcointalk"><a class="markdownIt-Anchor" href="#reddit-bitcointalk"></a> Reddit, bitcointalk …</h4>
<p>论坛形式的交流社区（现在流行用discourse</p>
<p><a target="_blank" rel="noopener" href="https://app.daohaus.club/">https://app.daohaus.club/</a></p>
<ul>
<li>Topics &amp; replies</li>
<li>Likes</li>
</ul>
<h2 id="标签"><a class="markdownIt-Anchor" href="#标签"></a> 标签</h2>
<p>Misttrack:</p>
<ul>
<li>1000k+ labeled</li>
<li>2000k+ nolabel</li>
</ul>
<h1 id="综述"><a class="markdownIt-Anchor" href="#综述"></a> 综述</h1>
<p>Graph Analysis of the Ethereum Blockchain Data: A Survey of Datasets, Methods, and Future Work</p>
<p>摘要——以太坊是目前使用最活跃的第二大区块链平台，由人类用户、智能合约（自治代理）、以太币（原生加密货币）、代币（数字资产）、dApps（去中心化应用程序）和 DeFi（去中心化金融）。以太坊中的这些关键参与者通过交易和合约调用相互交互。鉴于高度连接的结构，基于图的建模是分析存储在以太坊区块链中的数据的最佳工具。最近，一些研究工作对公开可用的以太坊区块链数据进行了图形分析，以揭示对其交易和重要下游任务的洞察，例如加密货币价格预测、地址聚类、网络钓鱼诈骗和假币检测。在这项工作中，我们对现有文献进行了深入调查。我们根据出版年份、地点、核心排名和作者的隶属关系、数据使用和图形构建、使用的图形挖掘和机器学习技术以及它们得出的新见解对它们进行分类。最后，我们讨论了我们对未来工作的建议。我们的文章将对数据科学家、研究人员、金融分析师和区块链爱好者有所帮助。索引词——区块链、以太坊、网络分析</p>
<h2 id="聚类"><a class="markdownIt-Anchor" href="#聚类"></a> 聚类</h2>
<!-- 关注原因：账户模型下，带有异常标签的账户产生的集合产生交易为异常交易 -->
<h3 id="etherclust"><a class="markdownIt-Anchor" href="#etherclust"></a> etherclust</h3>
<p><a target="_blank" rel="noopener" href="https://dl.acm.org/doi/10.1007/978-3-030-51280-4_33">Address Clustering Heuristics for Ethereum</a></p>
<p>由于比特币和以太坊在交易模式上的区别，现有的用于比特币的地址聚类方法不适用于以太坊的交易模型</p>
<ol>
<li>向同一存款地址发送资金的多个地址可能属于同一实体</li>
<li>用户通常会将空投获得的所有token汇总到一个账户，可以利用这个模式来识别多次接收token的单个实体。</li>
<li>用户使用approve函数授权自身拥有的其他地址，自授权</li>
</ol>
<p>（写的不如<a target="_blank" rel="noopener" href="https://jjzhou012.github.io/blog/2021/03/20/Summary-cluster-in-bitcoin.html">别人</a></p>
<h3 id="社区检测"><a class="markdownIt-Anchor" href="#社区检测"></a> 社区检测</h3>
<p><a target="_blank" rel="noopener" href="https://doi.org/10.23919/JCIN.2021.9387705">Community Detection in Blockchain Social Networks</a><br />
In this work, we focus on the smart contract transactions and define the Ethereum social network as a bipartite social graph.<br />
Particularly, we are interested in those smart contract transactions specific for initial coin offering (ICO) events. Based on their bipartite graph, we introduce an effective community detection algorithm for low-rank signals to group users into different clusters</p>
<p>As a blockchain network, Ethereum is different from Bitcoin in many aspects. Particularly, Ethereum is not only a platform for providing ETH coin transactions, but also a programming language that enables users to build and publish distributed applications via the smart contract. In Ethereum, each user generates a pair of asymmetrically encrypted public key and private key to join the network. Each public key could be considered as a node in our Ethereum social network. In Ethereum, there are two types of accounts: EoAs and CAs. EoAs are considered as individual users in the external world while CAs are the contracts that could connect EoA users. Both EoAs and CAs are presented by unique hash addresses</p>
<p>在本文 中，我们使用ICO事件和代币交易额作为特征来定义二方图，而实际上它可以是任何其他类型的智能合约，连接EoA节点。<br />
A. 算法和策略 现在，我们的目的是在这个二方图上进行社区检测， 并将所有的EoA节点归入群组。在本小节中，我们采用 Community detection from low-rank excitations of a graph filter 中的低等级社区检测算法，对双联图中的EoA节 点进行聚类。文献中的低等级社区检测算法来对双子图中的EoA节点进行聚类。这个想法是假设所有的EoA节点 形成一个低等级的社会子图，其中一些领先的EoA节点 将决定其他节点对CA节点的关注。本着这种精神，我们 将二方图的EoA节点集划分为具有高边缘密度的子集。 这可以通过在EoA节点观察到的图信号的低等级输出协 方差马三上应用聚类算法来实现。为了进行 它，我们把这个社区检测问题看作是一个GSP问题，其 中图<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>∈</mo><msup><mi>R</mi><mi>R</mi></msup></mrow><annotation encoding="application/x-tex">z \in R^R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span></span></span></span></span></span></span></span>  是在EoA主导节点（见图）且其将通过一个过滤器<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">H(S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span>	$$ H(S) = \sum_{l=0}<sup>{L-1}h_lS</sup>l=V(\sum_{l=0}<sup>{L-1}h_l)Λ</sup>l)V^H$$<br />
其中，S是图的拉普拉斯矩阵，L是滤波器的度数，R是主导节点的数量。滤波器，R是主导节点的数量。输出信号 x∈R N被定义在所有的EoA节点上，它的生成方式是</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><mi>H</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">x = H(S)z
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span></span></p>
<p>在此，V和Λ来自SVD分解的S。上述公式意味着，在我们的图模型中，EoA领导节点的意见 的意见决定了所有节点的状态。基于 上述模型，在所有EoA节点观察到的图信号 可以表示为</p>
<hr />
<h2 id="dl"><a class="markdownIt-Anchor" href="#dl"></a> DL</h2>
<h3 id="pd-secr"><a class="markdownIt-Anchor" href="#pd-secr"></a> PD-SECR</h3>
<h4 id="基于pd-secr的以太坊庞氏骗局检测"><a class="markdownIt-Anchor" href="#基于pd-secr的以太坊庞氏骗局检测"></a> 基于PD-SECR的以太坊庞氏骗局检测</h4>
<p>Ethereum Ponzi Scheme Detection Based on PD-SECR<br />
<a target="_blank" rel="noopener" href="https://doi.org/10.1155/2022/2316310">https://doi.org/10.1155/2022/2316310</a></p>
<p>庞氏骗局的几个特点。<br />
(i) 在项目网站上对区块链的功能有轰炸式的描述（如果有的话）。利用高回报无风险的虚假广告来吸引投资者，而不提供重要信息，如项目运营商。<br />
(ii) <strong>投资者的回报主要由新投资者投入的资本来支持，没有真正的项目技术支持。</strong><br />
(iii) <strong>以太坊合约代码包含一个层次结构，即新投资者向早期投资者支付费用的回报机制。（击鼓传花</strong></p>
<img src="/ethereum-onchain-analysis/2022-11-03-16-06-57.png" class="">
<p>PD-SECR （CNN-RF联合检测方法：融合不平衡数据和预处理算法）</p>
<p>卷积神经网络和随机森林模型的有效融合 CNN_RF Fusion</p>
<p>从Ethereum.io获得交易信息和<strong>合约编译的字节码</strong><br />
通过相关计算，从交易信息中提取相应的特征。<br />
使用反编译器将字节码分解为操作码（opcode），并通过计算操作代码的调用频率建立代码特征。</p>
<p>由于样本数据的严重不平衡，为了解决这个问题，引入了 SMTOE_ENN数据不平衡处理算法。<br />
SMOTE_ENN不仅可以处理数据不平衡问题，而且可以避免数据的重复性。<br />
然后将处理后的数据按 4:1 的比例分为训练集和测试集。</p>
<p>首先，构建了一个由三个卷积层和两个全连接层组成的CNN特征提取模型，从数据集中提取关键数据特征。<br />
CNN提取的数据特征输入到RF模型，用于训练分类模型。<br />
训练完成后，测试集评估模型的性能。<br />
Precision、Recall和F1 score评估模型。</p>
<img src="/ethereum-onchain-analysis/2022-11-03-17-53-58.png" class="">
<img src="/ethereum-onchain-analysis/2022-11-03-17-53-46.png" class="">
<img src="/ethereum-onchain-analysis/2022-11-03-16-44-05.png" class="">
<h5 id="特征选择"><a class="markdownIt-Anchor" href="#特征选择"></a> 特征选择</h5>
<p>研究选择了16个特征，其中包括9个操作码特征和7个账户特征，这些特征有利于庞氏骗局的合同识别。</p>
<h6 id="opcode-features"><a class="markdownIt-Anchor" href="#opcode-features"></a> opcode features</h6>
<p>如果满足默认的执行条件，一个以太坊智能合约可以被强制执行。因此，在庞氏骗局合约的代码结构中，往往包含了一个欺诈机制。操作码也表征了合约的基本问题。<br />
为了有效区分现实世界中的庞氏骗局合同和正常合同，本文分析了合同操作代码的类型和频率，并从合同代码中提取特征。本文将智能合约中不同操作码出现的频率计为操作码特征。</p>
<p>如图3所示，在不考虑 PUSH、DUP和SWAP等出现频率最高的操作码的情况 下，庞氏骗局智能合约与正常合约操作码之间存在着明显的差异。<br />
最关键的区别：庞氏骗局合约比正常合约包含更多的威胁性功能代码（如CALLER、EXP等）。</p>
<!-- 上述分析表明，操作码特征对于检测庞氏骗局可能是可行的 -->
<img src="/ethereum-onchain-analysis/2022-11-03-16-10-15.png" class="">
<h6 id="account-features"><a class="markdownIt-Anchor" href="#account-features"></a> account features</h6>
<p>以太坊上的庞氏骗局合约与普通合约相比，在账户交易特征上有一些不同之处。特别是，在合约交易中，以太币的流通过程有明显的差异。<br />
通过人工验证，账户特征可以总结为以下几点:</p>
<ul>
<li>只有少数早期合约参与者获得了高比例的回报，几乎所有的回报都集中在前两个合约参与者。具体来说，智能合约的创建者获得的回报最高。</li>
<li>在许多庞氏骗局的智能合约中保持低余额与正常的智能合约相比，一般采取快速分配投资所得的操作</li>
</ul>
<p>以太坊账户分为外部和内部账户（地址）；例如，当用户创建一个地址时，它被称为外部地址，因为它是用来从外部访问区块链的。<br />
当我们在以太坊上部署一个智能合约时，我们会生成一个内部地址，作为运行的区块链程序（部署的智能合约）的指针。<br />
我们可以在外部将其定位为一个要调用的功能，或在内部，使另一个部署的合同可以在部署的合同上调用该功能。<br />
因此，我们从外部和内部账户交易中提取七个代表性特征，作为识别庞氏骗局合约的另一种方式。</p>
<img src="/ethereum-onchain-analysis/2022-11-03-16-56-03.png" class="">
<table>
<thead>
<tr>
<th>Column</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Rr</td>
<td>合约付款前已投资的收款人百分比</td>
</tr>
<tr>
<td>A_bal</td>
<td>合约余额</td>
</tr>
<tr>
<td>Investments_num</td>
<td>每份合同收到的投资数量。</td>
</tr>
<tr>
<td>Payments_num</td>
<td>每份合约的交易支出数。</td>
</tr>
<tr>
<td>Pr</td>
<td>至少收到一笔款项的投资者百分比</td>
</tr>
<tr>
<td>Maxpay</td>
<td>一个合同账户支付给同一个收款人账户的最大交易数量</td>
</tr>
<tr>
<td>D_ind</td>
<td>合约中所有参与者支付和投资之间的量化差异。</td>
</tr>
</tbody>
</table>
<!-- 
##### 基于SMOTE_ENN的数据准备

SMOTE（Synthetic Minority Oversampling Technique），合成少数类过采样技术．它是基于随机过采样算法的一种改进方案。
由于随机过采样采取简单复制样本的策略来增加少数类样本，这样容易产生模型过拟合的问题，即使得模型学习到的信息过于特别(Specific)而不够泛化(General)。
SMOTE算法的基本思想是对少数类样本进行分析并根据少数类样本人工合成新样本添加到数据集中

Edited Nearest Neighbor (ENN)：
ENN 方法的工作原理是首先找到每个观测值的 K 最近邻，然后检查观测值的 k 最近邻中的多数类是否与观测值的类相同。 
如果观测的 K-最近邻的多数类和观测的类不同，则从数据集中删除观测及其 K-最近邻。 
默认情况下，ENN 中使用的最近邻数为 K=3。
 -->
<hr />
<h2 id="gnn"><a class="markdownIt-Anchor" href="#gnn"></a> GNN</h2>
<ul>
<li>GNN数据内容全在transaction，无transfer</li>
</ul>
<h3 id="eh-gcn"><a class="markdownIt-Anchor" href="#eh-gcn"></a> EH-GCN</h3>
<p><a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/abstract/document/9739752">Ethereum Account Classification Based on Graph Convolutional Network</a></p>
<p>利用图卷积网络（GCN）来解决以太坊中的账户分类问题：</p>
<ul>
<li>将以太坊交易记录建模为一个大型交易网络，发现该网络具有高异质性，其中具有不同特征和不同标签的帐户相互连接。</li>
<li>提出了一种基于GCN的模型，称为EH-GCN，证明实现了最先进的分类性能</li>
</ul>
<img src="/ethereum-onchain-analysis/2022-10-13-00-19-55.png" class="">
<p>同质比表示连接相同Node的edge的百分比。可以观察到，与这三个基准相比，以太坊交易网络非常大且稀疏。</p>
<h4 id="数据来源"><a class="markdownIt-Anchor" href="#数据来源"></a> 数据来源</h4>
<p>从Etherscan获得816个带有真实标签的帐户，这些账户参与六个不同的业务。收集其与Etherscan提供的API的1级和2级交易关系。最后，将剩余的交易关系和涉及的账户抽象为具有140万个节点和281万条边的事务网络。</p>
<p>（从816只靠1、2级就带出了140w和281w，肯定是挖到Exchange和Mining老家了</p>
<img src="/ethereum-onchain-analysis/2022-10-13-00-26-58.png" class="">
<p>从交易记录中提取：12个节点特征（例如，余额，交易金额，交易频率等）。</p>
<img src="/ethereum-onchain-analysis/2022-10-17-18-34-55.png" class="">
<p>训练/验证/测试拆分为7/1/2</p>
<h4 id="方法设计"><a class="markdownIt-Anchor" href="#方法设计"></a> 方法设计</h4>
<h5 id="抽样策略"><a class="markdownIt-Anchor" href="#抽样策略"></a> 抽样策略</h5>
<p>基于网络的采样策略如图1(a)所示</p>
<p>在采样策略中，考虑了三角形graphlet结构和度来搜索高阶节点，以保持与目标节点的相关性。</p>
<img src="/ethereum-onchain-analysis/2022-10-13-15-11-06.png" class="">
<p>Graphlets是复杂网络的小型连接诱导子图，已被广泛认为是从微观角度分析节点之间关系的工具。我们使用的三角形图显示了三个节点之间的紧密关系。</p>
<p>我们推导三角形图形集TG 和关系集GL(v)和NG(v)节点数v 在图表上：</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mi>G</mi><mo>=</mo><mo stretchy="false">{</mo><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>u</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi>v</mi><mo separator="true">,</mo><mi>u</mi><mo separator="true">,</mo><mi>x</mi><mo>∈</mo><mi>V</mi><mo separator="true">,</mo><msub><mi>e</mi><mrow><mi>v</mi><mi>u</mi></mrow></msub><mo separator="true">,</mo><msub><mi>e</mi><mrow><mi>v</mi><mi>x</mi></mrow></msub><mo separator="true">,</mo><msub><mi>e</mi><mrow><mi>u</mi><mi>x</mi></mrow></msub><mo>∈</mo><mi>E</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">TG=\{(v, u, x) | v, u, x \in V, e_{vu}, e_{vx}, e_{ux} \in E\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">u</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">}</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi>L</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>u</mi><mi mathvariant="normal">∣</mi><mi>u</mi><mo>∈</mo><mi>V</mi><mo separator="true">,</mo><mi>x</mi><mo>∈</mo><mi>V</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>u</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>T</mi><mi>G</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">GL(v)=\{u | u \in V, x \in V, (v, u, x) \in TG\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">u</span><span class="mord">∣</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">G</span><span class="mclose">}</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>G</mi><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">{</mo><mi>x</mi><mi mathvariant="normal">∣</mi><mi>x</mi><mo>∈</mo><mi>V</mi><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>u</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>T</mi><mi>G</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">NG(v, u)=\{x | x \in V, (v, u, x) \in TG\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">G</span><span class="mclose">}</span></span></span></span></p>
<p>GL(v) 是一组出现在三角形图形中的节点，NG(v,u)是一组出现在有v和u的三角形graphlet中的节点。</p>
<p>给定一个目标节点v，在采样过程开始时，候选节点集C(v)被初始化为一个包含v的一阶邻居的集合。为了在一个具有异质性的大规模网络中获得采样节点集S(v)，我们首先考虑每个目标节点的小图，这有助于保持其相关性。我们将GL(v)初始化为所有与目标节点v有三角形小图的节点。</p>
<p>为了在抽样程序中保留更多的结构信息，我们使用X(v)来维护小图中出现的候选节点的集合，将X(v)设置为GL(v)∩C(v)。如果X(v)不是空的，我们就用基于小图的概率质量函数从其中抽取一个新节点u。</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mi mathvariant="normal">∣</mi><mi>u</mi><mo>∈</mo><mi>X</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><mi>N</mi><mi>G</mi><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><mrow><msub><mo>∑</mo><mrow><mi>u</mi><mo>∈</mo><mi>X</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></msub><mi mathvariant="normal">∣</mi><mi>N</mi><mi>G</mi><mo stretchy="false">(</mo><mi>v</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">p(u|u \in X(v)) = \frac {|NG(v,u)|}{\sum _{u\in X(v)} |NG(v,u)|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mord">∣</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.705007em;vertical-align:-0.6950069999999999em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.21427571428571424em;"><span style="top:-2.214275714285714em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5000100000000001em;"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">G</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">u</span><span class="mclose mtight">)</span><span class="mord mtight">∣</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∣</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mord mathnormal mtight">G</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">u</span><span class="mclose mtight">)</span><span class="mord mtight">∣</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6950069999999999em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>degree(⋅) 返回输入节点的度。-&gt; <strong>具有较高程度中心性的节点往往对其他节点有更大的影响。</strong></p>
<p>之后，C(v)将通过添加u的一级邻居（S(v)中的节点除外）进行扩展，以便下一次采样。通过重复上述过程M次，可以得到一个抽样的节点集S(v)。这里M表示每个目标节点的抽样节点数，是所提方法的一个超参数。</p>
<p>这种抽样策略可以利用网络结构，<strong>收集更多有价值的节点。</strong></p>
<h4 id="mix-grained-aggregators-混合粒度聚合器"><a class="markdownIt-Anchor" href="#mix-grained-aggregators-混合粒度聚合器"></a> Mix-Grained Aggregators 混合粒度聚合器</h4>
<p>为了聚合来自高阶邻域的信息：可以以细粒度的方式聚合一阶邻域信息，并以粗粒度的方式收集高阶信息。</p>
<ul>
<li>Fine-grained aggregator 细粒度聚合器: 细粒度聚合器用于收集目标节点的所有一阶邻居的信息。</li>
<li>Coarse-grained aggregator 粗粒度聚合器: 这个聚合器将只集中在已采样的节点上，以减少计算和时间的复杂性。</li>
</ul>
<h4 id="一阶和高阶嵌入的组合"><a class="markdownIt-Anchor" href="#一阶和高阶嵌入的组合"></a> 一阶和高阶嵌入的组合</h4>
<p>由细粒度和粗粒度聚合器分别得到的一阶和高阶嵌入可以收集不同位置的信息，并且很可能是不一样的。因此，为了<strong>明确捕捉节点表示中的局部和全局信息</strong>，我们建议在最后一层结合每个节点的中间嵌入。</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Z</mi><mi>v</mi><mi>l</mi></msubsup><mo>=</mo><mi>c</mi><mi>o</mi><mi>n</mi><mi>c</mi><mi>a</mi><mi>t</mi><mo stretchy="false">(</mo><msubsup><mi>q</mi><mi>v</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>q</mi><mi>v</mi><mn>2</mn></msubsup><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msubsup><mi>q</mi><mi>v</mi><mi>l</mi></msubsup><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>q</mi><mo>∈</mo><mo stretchy="false">{</mo><mi>g</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">Z_{v}^{l} = concat(q_{v}^{1}, q_{v}^{2},\ldots, q_{v}^{l}),q \in \{g, r\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.096108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">c</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">}</span></span></span></span></p>
<p>l是模型的层级，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Z</mi><mi>v</mi><mi>l</mi></msubsup></mrow><annotation encoding="application/x-tex">Z^l_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.096108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4530000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>是节点v的最终表示。在实现中，我们使用连接法来捕捉局部和全局信息。</p>
<h4 id="eh-gcn-2"><a class="markdownIt-Anchor" href="#eh-gcn-2"></a> EH-GCN</h4>
<p>接下来，将描述如何在上述三个关键设计的基础上建立起建议的模型。</p>
<ul>
<li>模型的第一层通过使用细粒度的聚合器来聚合所有的一阶信息：</li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>g</mi><mi>v</mi><mn>1</mn></msubsup><mo>=</mo><mi>σ</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msubsup><mi>H</mi><mi>v</mi><mn>0</mn></msubsup><mo separator="true">,</mo><mo stretchy="false">{</mo><msubsup><mi>H</mi><mi>u</mi><mn>0</mn></msubsup><mo separator="true">,</mo><mi mathvariant="normal">∀</mi><mi>u</mi><mo>∈</mo><mi>N</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>⋅</mo><msup><mi>W</mi><mn>0</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g_{v}^{1} = \sigma (f(H_{v}^{0}, \{H_{u}^{0}, \forall u\in N(v)\})\cdot W^{0})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.061108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∀</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mclose">}</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>其中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>H</mi><mi>v</mi><mn>0</mn></msubsup></mrow><annotation encoding="application/x-tex">H^0_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.061108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span> 是节点v的给定输入特征。</p>
<p>此外，使用抽样策略得到高阶节点，并使用粗粒度聚合器在第二层<strong>聚合高阶信息</strong>，其结果显示为:</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>r</mi><mi>v</mi><mn>2</mn></msubsup><mo>=</mo><mi>σ</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msubsup><mi>g</mi><mi>v</mi><mn>1</mn></msubsup><mo separator="true">,</mo><mo stretchy="false">{</mo><msubsup><mi>g</mi><mi>u</mi><mn>1</mn></msubsup><mo separator="true">,</mo><mi mathvariant="normal">∀</mi><mi>u</mi><mo>∈</mo><mi>S</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>⋅</mo><msup><mi>W</mi><mn>1</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">r_{v}^{2} = \sigma (f(g_{v}^{1},\{g_{u}^{1}, \forall u\in S(v) \})\cdot W^{1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.061108em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∀</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mclose">}</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p>值得注意的是，S(v)中的高阶节点可以在第二层被聚合。在最极端的情况下，M阶邻居可以被聚集起来。</p>
<p>最后，我们在网络的最后一层结合一阶嵌入和高阶嵌入。</p>
<h4 id="实验结果"><a class="markdownIt-Anchor" href="#实验结果"></a> 实验结果</h4>
<img src="/ethereum-onchain-analysis/2022-10-13-19-16-53.png" class="">
<p>模型在以太坊数据集上的出色结果可能要归功于采样策略和混合粒度聚合器，它们聚合了EH-GCN模型中只有两层的高阶邻居。</p>
<p>相反，GCN和GAT在以太坊中的准确性相当低，GAT的准确性甚至低于MLP。这种现象也可以归咎于与目标节点非常不同的低阶邻居的噪声。</p>
<p>此外，在以太坊中，具有邻域采样机制的两种方法，即GraphSAGE和FastGCN，可以达到比GCN更高的精度，这进一步证明聚合一些低阶邻居甚至对异质设置下的性能产生负面影响。</p>
<p>H2GCN是最近为异质网络设计的方法，还收集高阶邻域信息。H2GCN-1可以在以太坊数据集中实现相对较高的精度，但会出现“内存不足”问题。（聚合所有单跳和双跳节点并保留所有中间嵌入）</p>
<p>为了评价所提出模型在同亲性设置下的泛化能力，在均质比相对较大的基准上进行了实验。如表III所示，Cora、Citeseer和PubMed的结果表明，所提出的方法在同亲条件下具有竞争性。这应该主要归功于我们的细粒度和粗粒度聚合器，它们在采样中选择更有价值的相邻节点。</p>
<img src="/ethereum-onchain-analysis/2022-10-13-19-21-58.png" class="">
<p>在采样策略中采样大小M 在 EH-GCN 中的影响：可以看出，EH-GCN在以下情况下获得最佳结果：M 为 5、5、4 和 7。</p>
<p>随着抽样规模的增加，总体准确率首先增加，然后下降。这表明，当M相对较低时，模型不能从高阶邻域提取足够的信息，因此准确率随着M的增加而增加。而当邻域信息充足时，信息冗余导致精度随着M的增加而降低。</p>
<h3 id="fa-gnn"><a class="markdownIt-Anchor" href="#fa-gnn"></a> FA-GNN</h3>
<p><a target="_blank" rel="noopener" href="https://ieeexplore.ieee.org/document/9756314">FA-GNN: Filter and Augment Graph Neural Networks for Account Classification in Ethereum</a></p>
<img src="/ethereum-onchain-analysis/2022-10-13-14-57-47.png" class="">
<img src="/ethereum-onchain-analysis/2022-10-13-14-58-01.png" class="">
<p>数据重用了</p>
<p>目标：通过开发一个 GCN 模型对图中的每个节点进行分类</p>
<h4 id="架构"><a class="markdownIt-Anchor" href="#架构"></a> 架构</h4>
<p>FA-GNN 的框架如图所示，它包含三个主要组成部分，包括邻居过滤，特征增强和网络嵌入。</p>
<img src="/ethereum-onchain-analysis/2022-10-30-20-38-54.png" class="">
<ol>
<li>Neighbor Filtering 邻居过滤: 在事务网络中，一对连接节点之间的关系与事务量等事务特征和程度等网络特征有关。为了去除邻居带来的冗余信息，我们设计了这个组件，并通过不同的偏好策略滤除一定比例的邻居。</li>
<li>Feature Augmentation 特征增强: 针对网络嵌入学习过程中的高阶信息，提出一种特征增强组件，通过聚合高阶信息为每个节点生成增强特征。</li>
<li>Node Representation Learning 节点表示学习: 以增广的节点特征为输入，节点表示学习组件通过两层神经网络为网络中的每个节点学习一个低维表示向量。然后，将得到的表示向量作为下游以太网事务网络分析任务的输入。</li>
</ol>
<h4 id="neighbor-filtering"><a class="markdownIt-Anchor" href="#neighbor-filtering"></a> Neighbor Filtering</h4>
<p>与传统的网络数据(如 Cora)相比，以太网交易网络中的连接节点之间在节点特征方面存在显著差异。这是因为以太网事务网络中的节点倾向于与其他类中的节点交互。<br />
该方法不使用完全邻居集合的信息，而是通过邻居滤波后得到的邻居集合中每个节点的邻居搜索，通过探索邻居节点的重要性来识别更有效的邻居信息。</p>
<h4 id="帐户分类结果-rq1"><a class="markdownIt-Anchor" href="#帐户分类结果-rq1"></a> 帐户分类结果 (RQ1)</h4>
<p>我们首先比较了 FA-GNN 和基线方法在以太帐户分类任务中的性能。由于邻域保持率 λ、深度 k 和邻域滤波偏好 p 是可调参数，本文以Macro F1为主要度量，通过对 λ ∈{0.1,0.2，… ，0.9} ，k ∈{1,2，… ，10}和 p ∈{1,2,3}进行网格搜索，得到了在最佳参数下的平均结果。从表 VI 和表 VII 所显示的结果可以明显看出，在不同的数据集分割中，所提出的 FA-GNN 优于基线方法。具体而言，在分割1中，我们比基线方法获得的最高Macro F1评分获得8.93% 的增益，交易量为优先级(p = 1) ，邻居保留率 λ = 0.2，聚集深度 k = 4。在分割2中，以交易时间为优先级(p = 2) ，邻居保留率 λ = 0.1，聚集深度 k = 6，我们比基线的最佳Macro F1评分获得7.82% 的增益。在分割3中，通过聚合最高度(p = 3，λ = 0.1，k = 1)的前10% 单跳邻居的信息，我们获得了最佳性能，比基线方法获得的最佳Marco F1评分提供了1.53% 的增益。</p>
<h4 id="敏感度分析-λ-k-rq2"><a class="markdownIt-Anchor" href="#敏感度分析-λ-k-rq2"></a> 敏感度分析 λ &amp; k (RQ2)</h4>
<h4 id="过滤偏好的评估-rq3"><a class="markdownIt-Anchor" href="#过滤偏好的评估-rq3"></a> 过滤偏好的评估 (RQ3)</h4>
<h4 id="合并策略的评估-rq4"><a class="markdownIt-Anchor" href="#合并策略的评估-rq4"></a> 合并策略的评估 (RQ4)</h4>
<h4 id="ablation-study-消融研究-rq5"><a class="markdownIt-Anchor" href="#ablation-study-消融研究-rq5"></a> Ablation Study 消融研究 (RQ5)</h4>
<h3 id="heterogeneous"><a class="markdownIt-Anchor" href="#heterogeneous"></a> Heterogeneous</h3>
<p><a target="_blank" rel="noopener" href="https://arxiv.org/abs/2203.12363">Ethereum Fraud Detection with Heterogeneous Graph Neural Networks</a></p>
<img src="/ethereum-onchain-analysis/2022-11-14-18-11-18.png" class="">
<img src="/ethereum-onchain-analysis/2022-11-14-18-11-56.png" class="">
<!-- ### TSGN

中山大学吴老师他们组的最新模型
->被建议看新模型 -->
<h1 id="文本"><a class="markdownIt-Anchor" href="#文本"></a> 文本</h1>
<h2 id="白皮书gnn"><a class="markdownIt-Anchor" href="#白皮书gnn"></a> 白皮书+GNN</h2>
<p>北航博士发在Journal of Parallel and Distributed Computing</p>
<p>对白皮书的分析是全面评价区块链产品的重要途径<br />
<strong>目的</strong>是探索一种更有效的方法，用于白皮书中复杂信息的特征提取，并将其用于文本分类和聚类。</p>
<ul>
<li>提出了一个新颖的区块链白皮书自动分析框架
<ul>
<li>介绍了区块链产品的多类要素</li>
<li>为白皮书设计了一个元架构</li>
<li>定义了一个基于元路径实例的白皮书之间的相似度测量</li>
</ul>
</li>
<li>探讨了基于GCN和GAT的异质图神经网络（GNN）</li>
<li>利用异质图网络生成白皮书的聚合嵌入，并将学到的白皮书特征应用于聚类和分类任务</li>
</ul>
<p>本文使用异质图神经网络（Heterogeneous GNN）来分析区块链白皮书。<br />
首先，第3.1节使用NLP工具提取实体和关系，<br />
并在第3.2节中使用它们来构建HIN。<br />
然后，在第3.3节中，人们可以根据HIN中的元实例和定义的相似性指标得到加权相邻矩阵，并利用Doc2vec技术 学习文本特征。<br />
最后我们可以让流行的图神经网络，包括图卷积网络 和 图注意力网络，将结构信息和节点特征都整合到白皮书嵌入中。</p>
<p><strong>NLP</strong></p>
<img src="/ethereum-onchain-analysis/2022-11-18-11-20-22.png" class="">
<p>区块链白皮书是一份产品描述文件，介绍项目的技术框架、商业模式和发展前景。一般包括产品的主要功能和性能，以及涉及的核心技术特点和优势，还有行业内的应用案例。<br />
与传统的文本挖掘技术不同，区块链产品白皮书涵盖了特定的主题和实体。例如，区块链技术由共识机制、账户和交易行为、智能合约、密码学、分布式存储协议、跨链和交换、经济和激励、和治理技术等组成。</p>
<p>图中这些元素之间有各种关系，其中包括共识机制、跨链和交换技术、密码器、智能合约之间的关系。</p>
<p><strong>HIN</strong></p>
<img src="/ethereum-onchain-analysis/2022-11-18-11-23-45.png" class="">
<img src="/ethereum-onchain-analysis/2022-11-18-11-24-03.png" class="">
<img src="/ethereum-onchain-analysis/2022-11-18-14-29-27.png" class="">
<p>A. 设计目标：白皮书的设计目标是提供多领域的应用和技术支持（图4）。</p>
<p>前者主要涵盖金融产品体系的创建（数字资产、加密货币交易、金融服务、智能经济）、权利管理、虚拟物品娱乐、商业等领域。<br />
后者包括为开发者提供整体服务，简化开发流程和架构，数据保护和促进互操作性和标准化。<br />
区块链白皮书的一般类型包括基本链、加密货币、智能合约、应用或服务平台和共识算法。<br />
详细来说，这些白皮书涉及项目设计目标、共识机制、智能合约、密码学、账户和交易、经济模式和激励措施以及应用。<br />
以下是关键点的细节。</p>
<p>B. 共识机制<br />
C. 应用<br />
D. 智能合约</p>
<p>白皮书涉及三种类型的智能合约系统：</p>
<ul>
<li>原始智能合约（Viacoin, Stellar, Verge, Zcash, Nuls），</li>
<li>基于比特币协议的智能合约（Komodo）</li>
<li>基于以太坊的智能合约 （ Iconomi, Golem, FunFair, Status, Smart- Cash, Decentraland, MOAC）。</li>
</ul>
<p>E. 分布式存储协议<br />
F. 账户和交易<br />
G. 跨链和交换技术<br />
H. 加密算法</p>
<p><strong>相似性</strong></p>
<img src="/ethereum-onchain-analysis/2022-11-18-11-34-56.png" class="">
<p>Oi, Oj = 俩白皮书<br />
Pk = 一组元路径<br />
Path_Count_p 计算俩白皮书之间元路径实例数<br />
形成 (Blockchain whitepaper) – [Element] – (Blockchain whitepaper) 图 -&gt; 邻接矩阵</p>
<p><strong>GNN</strong></p>
<img src="/ethereum-onchain-analysis/2022-11-18-11-40-08.png" class="">
<p>采用Hold-Out法和10倍交叉验证法分别得到模型的输出结果</p>
<p><strong>数据</strong></p>
<img src="/ethereum-onchain-analysis/2022-11-18-14-15-52.png" class="">
<p><strong>结果</strong></p>
<p><em>分类</em></p>
<img src="/ethereum-onchain-analysis/2022-11-18-11-41-15.png" class="">
<p>使用Hold-Out方法的分类任务性能在F1分数方面的表现。</p>
<img src="/ethereum-onchain-analysis/2022-11-18-11-41-40.png" class="">
<p>使用10倍交叉验证的分类任务F1分数</p>
<img src="/ethereum-onchain-analysis/2022-11-18-11-41-49.png" class="">
<p>使用Hold-Out方法在Micro-F1和Macro-F1方面的分类任务表现</p>
<img src="/ethereum-onchain-analysis/2022-11-18-11-44-32.png" class="">
<p>使用10倍交叉验证的Micro-F1和Macro-F1的分类任务性能</p>
<p><em>聚类</em></p>
<img src="/ethereum-onchain-analysis/2022-11-18-11-44-48.png" class="">
<p>使用Hold-Out方法的聚类任务表现。</p>
<h1 id=""><a class="markdownIt-Anchor" href="#"></a> ?</h1>
<p>Token的异常交易检测<br />
现在的特征-&gt;账户eth余额====&gt;token balance！</p>
<h2 id="数据流"><a class="markdownIt-Anchor" href="#数据流"></a> 数据流</h2>
<pre class="mermaid">
flowchart LR
A[Mongodb] --&gt;|Cypher| B(Neo4J)
B --&gt;|graphml| C{networkx}
C --&gt;|utils.convert.from_networkx| D[PyG]
C --&gt;|load| E[Gephi]
</pre>
<p>异常检测：BitGCN</p>
<h1 id="defi-2"><a class="markdownIt-Anchor" href="#defi-2"></a> DeFi</h1>
<h2 id="基于特征融合和正未标记学习的以太网套利检测"><a class="markdownIt-Anchor" href="#基于特征融合和正未标记学习的以太网套利检测"></a> 基于特征融合和正未标记学习的以太网套利检测</h2>
<p>实验数据：<br />
以太坊交易记录在基础区块链中，可以从 Ethereum 客户端检索到。为了建立套利检测模型，需要采集具有套利者角色的地址数据集。Bloxy是一个提供区块链实时数据分析的网站。在 Bloxy，我们收集包含套利地址的标记地址的数据集，并将这些数据作为基本事实进行清理。我们利用经济学领域论文和相关新闻报道提供的数据集来验证 Bloxy 提供的数据集的准确性。在数据清理过程中，我们获得了1,280个标记的套利地址和63,038个与套利相关的交易记录。一般来说，这些标记的地址包括 DEX (例如 UniSwap2和 SushiSwap3)和 CEX (例如 Binance4和 Huobi5)。我们认为，我们收集的数据集是合理和有代表性的，因为我们标记的交易所恰好包括顶级交易所，如 UniSwap 和 Binance，根据 Coinmarket cap 的统计数据</p>
<p>-&gt; Bloxy停止注册，得用bitquery</p>
<h2 id="衡量-defi-中的非法活动以太坊案例"><a class="markdownIt-Anchor" href="#衡量-defi-中的非法活动以太坊案例"></a> 衡量 DeFi 中的非法活动：以太坊案例</h2>
<p>Measuring Illicit Activity in DeFi: The Case of Ethereum</p>
<p>作者</p>
<img src="/ethereum-onchain-analysis/2023-01-19-16-00-51.png" class="">
<p>2021年09月 International Conference on Financial Cryptography and Data Security</p>
<p>摘要：文章分析了以太生态系统中非法活动的规模。使用来自<a target="_blank" rel="noopener" href="https://blockchaingroup.io/">Blockchain Intelligence Group(BIG)</a>的专有标签数据，我们调查了一些“恶意”以太地址的特征。我们首先计算涉及这些地址的交易总数以及通过它们转移的资金总额，然后描述恶意地址交互的 ERC-20令牌或 DeFi 应用程序的智能合同地址。最后，我们应用机器学习技术来识别额外的“恶意”地址，通过从与最初的一组恶意地址的事务关系中对所有以太网地址进行网络聚类分析。</p>
<p>-&gt; 感觉就是个启发式聚类没DeFi</p>
<p>简介</p>
<p>尽管[4]对比特币的非法活动状况进行了有趣的分析，但其他加密货币领域，尤其是建立在智能合同基础上的新兴 DeFi 领域，以及它们对非法活动的潜在用途，仍未得到探索。为了弥补这一差距，我们正在寻找其他加密货币和 DeFi 系统。</p>
<p>因此，我们的研究侧重于以下问题:</p>
<blockquote>
<p>比特币以外的加密货币以及智能合同应用程序中存在的非法活动达到了何种程度？</p>
</blockquote>
<p>在这项工作中，我们首先调查以太坊(第二大加密货币，截至2021年1月市值超过1200亿美元)。考虑到以太坊的丰富特性(它配备了智能合同功能，而不是比特币) ，我们希望探索在该系统上进行的非法活动，也看看智能合同和 ERC-20令牌的特殊情况。</p>
<h3 id="方法论"><a class="markdownIt-Anchor" href="#方法论"></a> 方法论</h3>
<p>为了量化以太坊上的非法活动，我们使用BIG提供给我们的一组标记为“恶意”的初始以太坊地址集来识别一组地址/交易，我们称之为我们的原始恶意集(MS)。然后，我们通过下面解释的网络聚类分析，分析这个集合如何与所有以太网地址的其余部分相互作用。</p>
<p>由于来自 BIG 的原始数据包含所有地址的详细标签标志，为了确定 MS，我们需要问什么类型的标签描述非法活动？通过与 BIG 的合作，并基于以前的工作（Sex, drugs, and bitcoin: how much illegal activity is financed through cryptocurrencies?） ，我们专注于许多涉及诈骗、钓鱼攻击和暗网交易的标志。表1提供了这些标签的详细描述。</p>
<img src="/ethereum-onchain-analysis/2023-01-19-16-12-25.png" class="">
<p>我们总共获得3559个地址标记为恶意下的旗帜说明给出了上述。在这<strong>3559</strong>个地址中，只有<strong>2628</strong>个出现在以太区块链中。剩下的是已知的恶意地址，但是没有任何资金转移到这些地址。例如，一个地址可能已经张贴在一个已知的骗局，但没有资金被转移到它，所以它不会实际上出现在区块链。</p>
<p>鉴于上面描述的恶意地址集合，我们通过2015年7月至2020年12月期间的整个以太坊区块链数据库来分析非法行为。具体来说，我们研究了世界协调时2020年5月26日星期二16:23:22之间以太区块链中的区块。数据库中的第一块是在世界协调时2015年7月30日星期四15:26:13开采的。</p>
<p>截至2020年12月，恶意设置(MS)目前拥有326,443.71 Eth。表2列出了一些汇总统计数据。第一行计算(a)恶意集合(MS)完成了多少事务，(b)这些事务的总价值是多少(以太和美元计算——使用2021年1月13日的转换率) ，以及©接收地址的总数(即恶意集合与多少个地址交互)。由于某些以太粒子事务是“常规”事务，即只使用以太粒子，而其他事务是令牌传输或更一般的触发智能合同状态更新的事务，第2行和第3行分别查看源自恶意集(MS)和令牌传输的“常规”事务。第4-6行侧重于恶意集合中的事务(即发送和接收地址都在 MS 中) ，第7-9行是互补集合，即从 MS 到非 MS 地址的事务。最后，第10-12行查看恶意集中 ERC-20事务的数量。</p>
<img src="/ethereum-onchain-analysis/2023-01-19-16-06-54.png" class="">
<h3 id="健壮性-扩展恶意集"><a class="markdownIt-Anchor" href="#健壮性-扩展恶意集"></a> 健壮性: 扩展恶意集</h3>
<p>除了分析 MS，我们还进一步进行了<strong>网络聚类分析</strong>，以确定是否应该将额外的以太网地址标记为恶意地址。接下来我们进一步利用以太坊的交易网络来识别潜在的恶意用户。基本假设如下:<br />
*如果已知一组 S 用户参与了 BIG 提供的非法活动，那么完全或主要与 S 用户进行交易的用户 X 也可能参与了非法活动。类似地，主要与不在 S 中的用户进行交易的用户 Y 可能是一个顺从的用户。*这种直觉驱使用户根据其交易伙伴将其分类为合规和非法。</p>
<p>更正式地说，我们应用的方法是一种网络数据聚类算法，它将用户集(网络术语中的“节点”)和用户之间的交易(网络术语中的“边”或“链接”)作为输入。该算法的输出是将用户分配给组，从而使组的“模块化”(组内链接的密度和组间链接的稀疏性)最大化。如果用户不成比例的交易份额与非法(合规)组的成员有关，则该方法将用户标记为非法(合规)。这种方法并不假定用户只从事顺从或非法活动ーー用户可以同时从事这两种活动。因此，合规团体和非法团体之间会有一些交易。</p>
<p>我们应用与（Sex, drugs, and bitcoin: how much illegal activity is financed through cryptocurrencies?）中相同的方法: 由（A smart local moving algorithm for large-scale modularity-based community detection）开发的智能局部移动(SLM)算法的一个变体，适用于我们的具体应用。该算法的名称(“smart moving”)来自于这样一个事实，即如果这种移动改善了模型拟合，则该算法通过将节点从一个节点移动到另一个节点来找到网络中的底层组结构。应用于我们的数据，算法如下:</p>
<ol>
<li>步骤1: 将所有标记的非法用户分配给非法组，将所有剩余用户分配给符合要求的组。</li>
<li>步骤2: 循环遍历每个用户，对每个用户执行以下操作:
<ul>
<li>如果用户与该用户当前分配的组的成员进行不成比例的事务处理，则将该用户保留在该组中;</li>
<li>否则，将用户移动到另一个组(如果用户被分配到非法组，则将用户移动到符合要求的组，反之亦然)。</li>
</ul>
</li>
<li>步骤3: 重复步骤2，直到在一个完整的循环中通过所有用户，没有用户在组之间切换。此时，对组的分配是稳定的，并确保每个成员与同一组的其他成员不成比例地进行贸易。</li>
</ol>
<p>由于算法的迭代性质，并非所有“标记”的非法用户都必然留在非法组中。例如，有可能一些用户已经被 BIG 标记，但主要是为了兼容目的而使用ether。这将被步骤2中的算法识别，并且用户将被移动到符合要求的组中。</p>
<p>在扩展算法之后产生的恶意集合是<strong>23,638</strong>个地址，并在2次迭代之后收敛。一个有趣的发现是，尽管恶意集增加了很多，但是传出事务中的 ETH 总量只有轻微增加，达到1,316,153.44 ETH。</p>
<p>结论<br />
本文的目的是引发一些讨论，什么是非法活动量化的以太和其他 DeFi 系统，我们如何可能检测和分析它。我们介绍了我们对 Ethereum 的最初调查结果，并讨论了我们的观察结果。</p>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/schnorr-signature-improvements/" rel="prev" title="schnorr-signature-improvements">
                  <i class="fa fa-chevron-left"></i> schnorr-signature-improvements
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/graph-data-workflow/" rel="next" title="图数据工作流">
                  图数据工作流 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  
  <div class="comments giscus-container">
  </div>
  
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Command M</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.11/pdfobject.min.js","integrity":"sha256-N6JtCNwaYm6kizuG92UtOOXamRHPwu+V1yF10g3bu/c="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":"forest","js":{"url":"//cdn.jsdelivr.net/npm/mermaid@latest/dist/mermaid.min.js"}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>


  <script src="/js/third-party/fancybox.js"></script>



  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css" integrity="sha256-hLTCMFlKxdNgPXyWlSSxYN0ykJmxxq9Yt3MNfdRGWeA=" crossorigin="anonymous">
  <script class="next-config" data-name="katex" type="application/json">{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script>
  <script src="/js/third-party/math/katex.js"></script>


<script class="next-config" data-name="giscus" type="application/json">{"enable":true,"repo":"c0mm4nd/c0mm4nd.com","repo_id":"R_kgDOJz8syw","category":"General","category_id":"DIC_kwDOJz8sy84CXdaV","mapping":"title","reactions_enabled":1,"emit_metadata":1,"theme":"light","lang":"en","crossorigin":"anonymous","input_position":"bottom","loading":"lazy"}</script>

<script>
document.addEventListener('page:loaded', () => {
  if (!CONFIG.page.comments) return;

  NexT.utils.loadComments('.giscus-container')
    .then(() => NexT.utils.getScript('https://giscus.app/client.js', {
      attributes: {
        async                   : true,
        crossOrigin             : 'anonymous',
        'data-repo'             : CONFIG.giscus.repo,
        'data-repo-id'          : CONFIG.giscus.repo_id,
        'data-category'         : CONFIG.giscus.category,
        'data-category-id'      : CONFIG.giscus.category_id,
        'data-mapping'          : CONFIG.giscus.mapping,
        'data-reactions-enabled': CONFIG.giscus.reactions_enabled,
        'data-emit-metadata'    : CONFIG.giscus.emit_metadata,
        'data-theme'            : CONFIG.giscus.theme,
        'data-lang'             : CONFIG.giscus.lang,
        'data-input-position'   : CONFIG.giscus.input_position,
        'data-loading'          : CONFIG.giscus.loading
      },
      parentNode: document.querySelector('.giscus-container')
    }));
});
</script>

</body>
</html>
